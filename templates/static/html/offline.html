
<!DOCTYPE HTML>
<html class="bg-dark" lang="en-US">
	<head>

		<title>Pending BioThings APIs</title>

		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="HandheldFriendly" content="True" />
		<meta property="og:locale" content="en_US" />
		<!-- Unique for each site -->
    <meta property="og:url" content="http://pending.biothings.io/">
    <meta property="og:site_name" content="pending.biothings.io">
    <meta property="og:title" content="MyVariant.info | Variant Annotation as a Service." />
    <meta name="description" content="Variant Annotation as a Service." />
    <meta property="og:image" content="https://i.postimg.cc/857m7vSc/featured.jpg">
    <meta property="og:image:type" content="image/jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Variant Annotation as a Service.">
    <meta property="fb:app_id" content="" />
    <meta name="twitter:title" content="MyVariant.info | Variant Annotation as a Service." />
    <meta name="twitter:image" content="/static/img/favicon-16x16.png" />
    <meta name="twitter:url" content="http://pending.biothings.io" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:description" content="Variant Annotation as a Service." />
		<link rel="apple-touch-icon" sizes="180x180" href="static/img/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="static/img/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="static/img/favicon-16x16.png">
		<link rel="manifest" href="/static/site.webmanifest">
		<link rel="mask-icon" href="static/img/safari-pinned-tab.svg" color="#000000">
		<link rel="shortcut icon" href="static/img/favicon.ico">
		<meta name="msapplication-TileColor" content="#000000">
		<meta name="msapplication-config" content="static/img/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">

		<link rel="shortcut icon" type="image/png" href="/static/img/favicon-16x16.png"/>
		<!-- Styles -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
		<link rel="stylesheet" href="/static/css/app.css" />
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
		<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
		<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
		<script src="static/js/contribute.js"></script>
		<script async defer src="https://buttons.github.io/buttons.js"></script>



	</head>
	<body class="bg-dark">
		<!-- Wrapper -->
			<div id="wrapper" class="bg-dark noPadding">
				 <!-- Header -->
<style>
/* Background Color of Side Nav */
#navPanel{
  background-color: rgb(50, 50, 50);
  font-size: 1.5em;
}
#navPanel .link.depth-0{
  color: var(--green-light) !important;
}
 #header.alt{
  background-color: rgb(50, 50, 50);
}
#header.alt > .navPanelToggle{
  color: white;
  top:5px;
}
#header.alt > nav{
  top: 0px;
  right: 0px;
}
.navbar{
  padding: 0px;
  padding-left: 20px;
}
.navbar-nav .nav-link{
  padding:0px;
}
#header > nav{
  position: fixed;
  box-shadow: 0px 2px 10px black;
  left: 0 !important;
  top: 0 !important
}

.navPanelToggle{
  border-bottom: none !important;
}

.navbar-dark .navbar-nav .nav-link{
  border: none !important;
}

.navbar-dark .navbar-brand{
  border: none !important;
}


</style>
<header id="header" class="alt">
  <nav id="nav" class="navbar navbar-expand-lg navbar-dark bg-dark fullWidth sticky-top" >
    <a class="navbar-brand bold" href="/">
      Pending
    </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="/#home">Home</a>
      <a class="nav-item nav-link" href="/#pending">APIs</a>
      <a class="nav-item nav-link" href="/#contribute">Contribute</a>
      <a class="nav-item nav-link" href="/#help">Help</a>
    </div>
  </div>
</nav>
</header>

<style type="text/css">

</style>

<section id="index-app">
	<div class="bg-dark container">
		<div id="home" class="jumbotron bg-dark text-center variantHero">
			<h1 id="logo" class="text-light lighter textShadow" data-aos="fade-up" data-aos-duration="1000">
				<span class="bold">Pending</span> <br class="d-block d-md-none" />BioThings APIs
			</h1>
			<div class="introP d-none d-md-block">
				<p class="w-75 m-auto text-light">
					Pending BioThings APIs are a collection of community-contributed APIs from various data sources. They were built using
					<a rel="noopener"  class="link" href="https://biothingsapi.readthedocs.io/en/latest/" target="_blank">BioThings SDK</a> and follow the same design pattern of our official BioThings APIs (<a rel="noopener"  class="link" href="https://mygene.info" target="_blank">MyGene.info</a>,
					<a rel="noopener" class="link" href="https://myvariant.info" target="_blank">MyVariant.info</a>, <a rel="noopener"  class="link" href="https://mychem.info" target="_blank">MyChem.info</a>, etc). These APIs are also pending to be integrated into the proper official BioThings API based on their entity type.
				</p>
			</div>
		</div>

		<div class="jumbotron bg-dark text-center d-block d-md-none">
			<div class="">
				<p class="w-75 m-auto text-light">
					Pending BioThings APIs are a collection of community-contributed APIs from various data sources. They were built using
					<a rel="noopener"  class="link" href="https://biothingsapi.readthedocs.io/en/latest/" target="_blank">BioThings SDK</a> and follow the same design pattern of our official BioThings APIs (<a rel="noopener"  class="link" href="https://mygene.info" target="_blank">MyGene.info</a>,
					<a rel="noopener" class="link" href="https://myvariant.info" target="_blank">MyVariant.info</a>, <a rel="noopener"  class="link" href="https://mychem.info" target="_blank">MyChem.info</a>, etc). These APIs are also pending to be integrated into the proper official BioThings API based on their entity type.
				</p>
			</div>
		</div>

		<!-- <div data-aos="fade-up" data-aos-duration="3000" class="jumbotron bg-dark text-light text-center">
      <div class="gradientBox">
        <div class="bg-dark jumbotron">
					<img style="border:0px;" width="100px" src="https://i.gifer.com/S9Ab.gif" alt="Logo 64"/>
          <h1 class="mb-5 shine">
            Welcome
          </h1>
          <h1 class="m-5 shine">
            More
          </h1>
          <a class="mr-3 link" href="#pending"><i class="fas fa-chevron-right"></i> View More Pending APIs</a>
          <a class="mr-3 link" href="#contribute"><i class="fas fa-chevron-right"></i> Learn How To Contribute</a>
          <a class="mr-3 link" href="#help"><i class="fas fa-chevron-right"></i> Need Help?</a>
        </div>
      </div>
    </div> -->

    <!-- <div data-aos="fade-up" data-aos-duration="3000" class="jumbotron bg-dark text-light text-center">
      <div class="gradientBox">
        <div class="bg-dark jumbotron">
					<img style="border:0px;" width="100px" src="https://i.gifer.com/S9Ab.gif" alt="Logo 64"/>
          <h1 class="mb-5 shine">
            Featured
          </h1>
          <div class="bg-warning w-75 m-auto" style="padding:2px;">
            <div v-if="pending.length" class="bg-dark p-5">
              <h3 class="font-weight-bold" v-text='getKeyName(pending[0].src)'></h3>
              <template v-if='pending[0].src[getKeyName(pending[0].src)]["author"]'>
                <small class="d-block">
                  Developed by
                  <a :href='pending[0].src[getKeyName(pending[0].src)]["author"]["url"]' target="_blank" class="link">
                    <i class="fab fa-github"></i> <span v-text='pending[0].src[getKeyName(pending[0].src)]["author"]["name"]'></span>
                  </a>
                </small>
              </template>
              <small class="badge bg-dark" v-text="numberWithCommas(pending[0].src[getKeyName(pending[0].src)].stats[getKeyName(pending[0].src)])+' documents'"></small>
              <div>
                <hr />
                <small>Pending for integration with:</small>
                <div>
                  <a v-if="pending[0].doc_type === 'gene'" target="_blank" href="http://mygene.info/"><img  src="/static/img/mygene-text.svg" height="20px"/></a>
                  <a v-if="pending[0].doc_type === 'variant'" target="_blank" href="http://myvariant.info"><img  src="/static/img/myvariant-text.svg" height="20px"/></a>
                  <a v-if="pending[0].doc_type === 'chemical'" target="_blank" href="http://mychem.info"><img src="/static/img/mychem-text.svg" height="20px"/></a>
                </div>
              </div>
              <div class="p-3 mt-4" style="position: relative">
                <a class="btn-main" :href="'./'+getKeyName(pending[0].src)">Try It</a>
              </div>
            </div>
          </div>
          <h1 class="m-5 shine">
            More
          </h1>
          <a class="mr-3 link" href="#pending"><i class="fas fa-chevron-right"></i> View More Pending APIs</a>
          <a class="mr-3 link" href="#contribute"><i class="fas fa-chevron-right"></i> Learn How To Contribute</a>
          <a class="mr-3 link" href="#help"><i class="fas fa-chevron-right"></i> Need Help?</a>
        </div>
      </div>
    </div> -->

    <div data-aos="fade-up" data-aos-duration="3000" id="pending" class="jumbotron bg-dark text-light text-center">
      <div class="gradientBox">
        <div class="bg-dark jumbotron">
          <h1 class="mb-5">
            Pending APIs
          </h1>

          <object  data-aos="fade-in" id="hero1" alt="pending apis" width="70%" type="image/svg+xml" data="static/img/hero-1.svg"></object>
          <!-- <form class="w-50 m-auto" @submit.prevent="search(query)">
            <div class="form-group row">
              <input type="text" v-model="query" class="form-control bg-secondary text-light col-sm-7 mr-1" id="exampleFormControlInput1" placeholder="Search">
              <button @click.prevent="search(query)" class="btn btn-outline-dark text-white col-sm-2 mr-1">Search</button>
              <button @click.prevent="getMetadata(); query=''" class="btn btn-outline-dark text-white col-sm-2">Reset</button>
            </div>
          </form> -->
          <div class="text-muted font-weight-light">
            <small>(<span v-text="pending.length"></span>) APIs</small>
          </div>
          <div class="flexP">
            <div v-for="(api,index) in pending" class="flexC apiBack slit-in-vertical" v-if="index < shown">
              <h3 class="font-weight-bold" v-text='getKeyName(api.src)'></h3>
              <small class="badge bg-dark" v-text="numberWithCommas(api.src[getKeyName(api.src)].stats[getKeyName(api.src)])+' documents'"></small>
              <div>
                <hr />
                <small>Pending for integration with:</small>
                <div v-if="api.biothing_type">
                  <a rel="noopener"  v-if="api.biothing_type === 'gene'" target="_blank" href="https://mygene.info/"><img alt="myGene"  src="/static/img/mygene-text.svg" height="20px"/></a>
                  <a rel="noopener"  v-if="api.biothing_type === 'variant'" target="_blank" href="https://myvariant.info"><img alt="myVariant"  src="/static/img/myvariant-text.svg" height="20px"/></a>
                  <a rel="noopener"  v-if="api.biothing_type === 'chemical'" target="_blank" href="https://mychem.info"><img alt="myChem" src="/static/img/mychem-text.svg" height="20px"/></a>
                </div>
              </div>
              <div class="p-3 mt-4" style="position: relative">
                <a class="btn-main" :href="'./'+getKeyName(api.src)">Try It</a>
              </div>
            </div>
            <div class="mb-5 w-100" v-if="shown < pending.length">
              <button class="btn btn-outline-dark text-light" @click="shown = shown+3">Load More</button>
            </div>
          </div>
          <small class="text-muted">
            <i class="fas fa-exclamation-circle"></i> Disclaimer: Pending APIs available here are meant for testing purposes. We cannot guarantee the reliability of these APIs. Use at your own risk.
          </small>
        </div>
      </div>
    </div>

    <div id="contribute" data-aos="fade-up" data-aos-duration="3000" class="jumbotron bg-dark text-light text-center">
      <div class="gradientBox">
        <div class="bg-dark jumbotron">
          <h1 class="mb-5">
            Contribute
          </h1>
          <div id="animation_container" style="background-color:rgba(68, 68, 68, 00); width:640px; height:480px; zoom:.5;">
        		<canvas id="canvas" width="640" height="480" style="position: absolute; display: block; background-color:rgba(68, 68, 68,0);"></canvas>
        		<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:640px; height:480px; position: absolute; left: 0px; top: 0px; display: block;">
        		</div>
        	</div>
          <h2 class="text-light">
            Build Your Own API
          </h2>
					<a rel="noopener"  class="link mb-5 mt-5" target="_blank" href="https://biothingsapi.readthedocs.io/en/latest/doc/studio.html">
						<h3 class="mt-4">Follow this guide <i class="fas fa-chevron-right"></i></h3>
					</a>
					<hr />
          <div class="container p-2 text-center">
            <h4 class="mb-3">Pending APIs were built with</h4>
            <a rel="noopener"  class="link" target="_blank" href="http://docs.biothings.io/en/latest/doc/studio.html" title="BioThings Studio">
              <img style="border:0px;" width="128" src="https://biothings.io/static/img/biothings-studio-128.png" alt="Logo 128"/>
              <small class="d-block">
                Learn More About BioThings Studio <i class="fas fa-chevron-right"></i>
              </small>
            </a>
            <hr class="m-4"/>
            <h4 class="mb-3">BioThings APIs</h4>
            <div class="row w-75 m-auto">
              <div class="col-sm-12 col-md-4 p-4">
                <a rel="noopener"  class="link" target="_blank" href="https://mygene.info/" title="MyGene.info">
                  <img alt="myGene" style="border:0px;" width="128" src="https://biothings.io/static/img/mygene-logo-128.png" alt="Logo 128"/>
									<small class="d-block text-light">
                    Gene annotation <br />as a service
                  </small>
                  <small class="d-block mt-2">
                    Learn More About MyGene <i class="fas fa-chevron-right"></i>
                  </small>
                </a>
              </div>
              <div class="col-sm-12 col-md-4 p-4">
                <a rel="noopener"  class="link" target="_blank" href="https://myvariant.info/" title="MyVariant.info">
                  <img alt="myVariant" style="border:0px;" width="128" src="https://biothings.io/static/img/myvariant-logo-128.png" alt="Logo 128"/>
									<small class="d-block text-light">
                    Variant annotation <br />as a service
                  </small>
                  <small class="d-block mt-2">
                    Learn More About MyVariant <i class="fas fa-chevron-right"></i>
                  </small>
                </a>
              </div>
              <div class="col-sm-12 col-md-4 p-4">
                <a rel="noopener"  class="link" target="_blank" href="https://mychem.info/" title="MyChem.info">
                  <img alt="myChem" style="border:0px;" width="128" src="https://biothings.io/static/img/mychem-logo-128.png" alt="Logo 128"/>
									<small class="d-block text-light">
                    Chemical/Drug annotation <br />as a service
                  </small>
                  <small class="d-block mt-2">
                    Learn More About MyChem <i class="fas fa-chevron-right"></i>
                  </small>
                </a>
              </div>
							<div class="col-sm-12 text-center p-5">
								<a rel="noopener"  class="link" href="http://biothings.io/#access" target="_blank">Other BioThings APIs in production <i class="fas fa-chevron-right"></i></a>
							</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="help" data-aos="fade-up" data-aos-duration="3000" class="jumbotron bg-dark text-light text-center">
      <div class="gradientBox">
        <div class="bg-dark jumbotron">
					<img style="border:0px;" width="100px" src="https://i.gifer.com/S9Ab.gif" alt="Logo 64"/>
          <h1 class="mb-5">
            Need Help?
          </h1>
          <div class="container p-4" style="position: relative;">
            <a rel="noopener"  class="btn-main" href="mailto:biothings@googlegroups.com" target="_blank">Contact Us</a>
          </div>
        </div>
      </div>
    </div>
    <div class="jumbotron bg-dark text-muted text-center">

    </div>
	</div>
</section>




				 <footer id="footer" class="bg-dark noPadding" style="bottom:0;">
  <div class="copyright text-center text-muted">
    <ul class="noListStyle listBlock">
      <li>
        <a rel="noopener"  class="link text-light" href="http://twitter.com/biothingsapi" target="_blank">
          </i> Twitter
        </a>
      </li>
      <li>
        <a rel="noopener"  class="link text-light" href="https://github.com/biothings/biothings.api" target="_blank">
          </i> Github
        </a>
      </li>
    </ul>
    <hr />
    <small class="text-light">
      All content copyright <a href="http://biothings.io" class="link">BioThings.io</a> Â© <span id="year"></span> <br /> All rights reserved.
      <a rel="noopener"  target="_blank" href="http://biothings.io/terms" class="link">Terms of use.</a>
      <a rel="noopener"  target="_blank" href="http://biothings.io/citation/" class="link">How To Cite</a>
    </small>
  </div>
</footer>
<script>
var currentTime = new Date()
var year = currentTime.getFullYear()
var myelement = document.getElementById("year");
    myelement.innerHTML= year;
</script>
			</div>
		<!-- Scripts -->
			<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/vivus/0.4.4/vivus.min.js"></script>
			<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.2/vue.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
      <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
			<script>
      AOS.init();
      var app = new Vue({
        el: '#index-app',
        data: function(){
          return {
            pendingApis:[
              {
               'metadataUrl':'//pending.biothings.io/denovodb/metadata'
              },
              {
                'metadataUrl':'//pending.biothings.io/ccle/metadata'
              },
              {
               'metadataUrl':'//pending.biothings.io/kaviar/metadata'
               },
               {
                'metadataUrl':'//pending.biothings.io/fire/metadata'
                },
	              {
	               'metadataUrl':'//pending.biothings.io/biomuta/metadata'
	               }
             ],
             pending:[],
             shown:6,
             query:"",
             apiSelected:'',
             querySelected:'',
             queryString:'',
             querySelectionType:'example',
             success: false,
						 apiList:[],
						 context:{}
          }
        },
        methods: {
          search(query){
            let self = this;
            let res=[];

            if (query) {
              for (var i = 0; i < self.pending.length; i++) {
                let title = self.getKeyName(self.pending[i].src)
                if (title.toLowerCase().includes(query.toLowerCase())) {
                  res.push(self.pending[i]);
                }
              }
              self.pending = res;
            }else{
              self.getMetadata();
            }
          },
          numberWithCommas(x) {
              return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
          },
          getKeyName(obj){
            for (var key in obj) {
              return key;
            }
          },
          getMetadataTest(){
            let self = this;
            self.pending=[];
            for (var i = 0; i < self.pendingApis.length; i++) {
              axios.get(self.pendingApis[i].metadataUrl).then(res=>{
                self.pending.push(res.data);
              }).catch(err=>{
                throw err;
              })
            }
          },
					getList(){
            let self = this;
            self.pending=[];
						axios.get('//pending.biothings.io:20080/api/list').then(res=>{
							// console.log(res.data.result);
							self.apiList = res.data.result;
							self.getMetadata(self.apiList);
						}).catch(err=>{
							throw err;
						});
          },
					getMetadata(list){
						let self = this;
						for (var i = 0; i < list.length; i++) {
							axios.get('//pending.biothings.io/'+list[i]["_id"]+'/metadata').then(res=>{
								// console.log('pending',res.data)
								self.pending.push(res.data);
							}).catch(err=>{
								throw err;
							})
						}
					},
          loadAnimation(){
						var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
						function init() {
							canvas = document.getElementById("canvas");
							anim_container = document.getElementById("animation_container");
							dom_overlay_container = document.getElementById("dom_overlay_container");
							var comp=AdobeAn.getComposition("F8749D7504C942628AEBFA078DBD04C6");
							var lib=comp.getLibrary();
							var loader = new createjs.LoadQueue(false);
							loader.addEventListener("fileload", function(evt){handleFileLoad(evt,comp)});
							loader.addEventListener("complete", function(evt){handleComplete(evt,comp)});
							var lib=comp.getLibrary();
							loader.loadManifest(lib.properties.manifest);
						}
						function handleFileLoad(evt, comp) {
							var images=comp.getImages();
							if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }
						}
						function handleComplete(evt,comp) {
							//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
							var lib=comp.getLibrary();
							var ss=comp.getSpriteSheet();
							var queue = evt.target;
							var ssMetadata = lib.ssMetadata;
							for(i=0; i<ssMetadata.length; i++) {
								ss[ssMetadata[i].name] = new createjs.SpriteSheet( {"images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames} )
							}
							exportRoot = new lib.contribute();
							stage = new lib.Stage(canvas);
							//Registers the "tick" event listener.
							fnStartAnimation = function() {
								stage.addChild(exportRoot);
								createjs.Ticker.setFPS(lib.properties.fps);
								createjs.Ticker.addEventListener("tick", stage)
								stage.addEventListener("tick", handleTick)
								function getProjectionMatrix(container, totalDepth) {
									var focalLength = 528.25;
									var projectionCenter = { x : lib.properties.width/2, y : lib.properties.height/2 };
									var scale = (totalDepth + focalLength)/focalLength;
									var scaleMat = new createjs.Matrix2D;
									scaleMat.a = 1/scale;
									scaleMat.d = 1/scale;
									var projMat = new createjs.Matrix2D;
									projMat.tx = -projectionCenter.x;
									projMat.ty = -projectionCenter.y;
									projMat = projMat.prependMatrix(scaleMat);
									projMat.tx += projectionCenter.x;
									projMat.ty += projectionCenter.y;
									return projMat;
								}
								function handleTick(event) {
									var cameraInstance = exportRoot.___camera___instance;
									if(cameraInstance !== undefined && cameraInstance.pinToObject !== undefined)
									{
										cameraInstance.x = cameraInstance.pinToObject.x + cameraInstance.pinToObject.pinOffsetX;
										cameraInstance.y = cameraInstance.pinToObject.y + cameraInstance.pinToObject.pinOffsetY;
										if(cameraInstance.pinToObject.parent !== undefined && cameraInstance.pinToObject.parent.depth !== undefined)
										cameraInstance.depth = cameraInstance.pinToObject.parent.depth + cameraInstance.pinToObject.pinOffsetZ;
									}
									applyLayerZDepth(exportRoot);
								}
								function applyLayerZDepth(parent)
								{
									var cameraInstance = parent.___camera___instance;
									var focalLength = 528.25;
									var projectionCenter = { 'x' : 0, 'y' : 0};
									if(parent === exportRoot)
									{
										var stageCenter = { 'x' : lib.properties.width/2, 'y' : lib.properties.height/2 };
										projectionCenter.x = stageCenter.x;
										projectionCenter.y = stageCenter.y;
									}
									for(child in parent.children)
									{
										var layerObj = parent.children[child];
										if(layerObj == cameraInstance)
											continue;
										applyLayerZDepth(layerObj, cameraInstance);
										if(layerObj.layerDepth === undefined)
											continue;
										if(layerObj.currentFrame != layerObj.parent.currentFrame)
										{
											layerObj.gotoAndPlay(layerObj.parent.currentFrame);
										}
										var matToApply = new createjs.Matrix2D;
										var cameraMat = new createjs.Matrix2D;
										var totalDepth = layerObj.layerDepth ? layerObj.layerDepth : 0;
										var cameraDepth = 0;
										if(cameraInstance && !layerObj.isAttachedToCamera)
										{
											var mat = cameraInstance.getMatrix();
											mat.tx -= projectionCenter.x;
											mat.ty -= projectionCenter.y;
											cameraMat = mat.invert();
											cameraMat.prependTransform(projectionCenter.x, projectionCenter.y, 1, 1, 0, 0, 0, 0, 0);
											cameraMat.appendTransform(-projectionCenter.x, -projectionCenter.y, 1, 1, 0, 0, 0, 0, 0);
											if(cameraInstance.depth)
												cameraDepth = cameraInstance.depth;
										}
										if(layerObj.depth)
										{
											totalDepth = layerObj.depth;
										}
										//Offset by camera depth
										totalDepth -= cameraDepth;
										if(totalDepth < -focalLength)
										{
											matToApply.a = 0;
											matToApply.d = 0;
										}
										else
										{
											if(layerObj.layerDepth)
											{
												var sizeLockedMat = getProjectionMatrix(parent, layerObj.layerDepth);
												if(sizeLockedMat)
												{
													sizeLockedMat.invert();
													matToApply.prependMatrix(sizeLockedMat);
												}
											}
											matToApply.prependMatrix(cameraMat);
											var projMat = getProjectionMatrix(parent, totalDepth);
											if(projMat)
											{
												matToApply.prependMatrix(projMat);
											}
										}
										layerObj.transformMatrix = matToApply;
									}
								}
							}
							//Code to support hidpi screens and responsive scaling.
							function makeResponsive(isResp, respDim, isScale, scaleType) {
								var lastW, lastH, lastS=1;
								window.addEventListener('resize', resizeCanvas);
								resizeCanvas();
								function resizeCanvas() {
									var w = lib.properties.width, h = lib.properties.height;
									var iw = window.innerWidth, ih=window.innerHeight;
									var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;
									if(isResp) {
										if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {
											sRatio = lastS;
										}
										else if(!isScale) {
											if(iw<w || ih<h)
												sRatio = Math.min(xRatio, yRatio);
										}
										else if(scaleType==1) {
											sRatio = Math.min(xRatio, yRatio);
										}
										else if(scaleType==2) {
											sRatio = Math.max(xRatio, yRatio);
										}
									}
									canvas.width = w*pRatio*sRatio;
									canvas.height = h*pRatio*sRatio;
									canvas.style.width = dom_overlay_container.style.width = anim_container.style.width =  w*sRatio+'px';
									canvas.style.height = anim_container.style.height = dom_overlay_container.style.height = h*sRatio+'px';
									stage.scaleX = pRatio*sRatio;
									stage.scaleY = pRatio*sRatio;
									lastW = iw; lastH = ih; lastS = sRatio;
									stage.tickOnUpdate = false;
									stage.update();
									stage.tickOnUpdate = true;
								}
							}
							makeResponsive(true,'both',true,1);
							AdobeAn.compositionLoaded(lib.properties.id);
							fnStartAnimation();
						}

            $( document ).ready(function() {
                init();
            });
            document.getElementById("animation_container").addEventListener('click', function(){
    					init();
    				})

						let timer = setInterval(function(){
			        init();
			      }, 40000);
          },
					registerServiceWorker(){
						// Check that service workers are registered
						if ('serviceWorker' in navigator) {
						  // Use the window load event to keep the page load performant
						  window.addEventListener('load', () => {
						    try{
						      navigator.serviceWorker.register('/static/worker.js').then(function(ServiceWorkerRegistration) {
						        console.log('Service Worker registered');
						      }).catch(err=>{
						        console.log('Service Worker registration failed');
						      });
						    }catch(err){
						      // console.log('failed');
						    }
						  });
						}

						// console.log(caches)

					}

        },
          mounted: function(){
						let self = this;
						if ({"List": [{"config": {"doc_type": "variant", "index": "pending_denovodb", "port": 9881, "es_host": "172.30.1.155:9200"}, "description": "DenovoDB API", "_id": "denovodb", "status": "running", "url": "http://ip-172-30-1-114:9881"}, {"config": {"doc_type": "variant", "index": "pending_ccle", "port": 9882, "es_host": "172.30.1.155:9200"}, "description": "CCLE API", "_id": "ccle", "status": "running", "url": "http://ip-172-30-1-114:9882"}, {"config": {"doc_type": "variant", "index": "pending_kaviar", "port": 9883, "es_host": "172.30.1.155:9200"}, "description": "Kaviar API", "_id": "kaviar", "status": "running", "url": "http://ip-172-30-1-114:9883"}, {"config": {"doc_type": "variant", "index": "pending_fire", "port": 9884, "es_host": "172.30.1.155:9200"}, "description": "FIRE API", "_id": "fire", "status": "running", "url": "http://ip-172-30-1-114:9884"}, {"config": {"doc_type": "variant", "index": "pending_biomuta", "port": 9885, "es_host": "172.30.1.155:9200"}, "description": "Biomuta API", "_id": "biomuta", "status": "running", "url": "http://ip-172-30-1-114:9885"}]}) {
							self.context = {"List": [{"config": {"doc_type": "variant", "index": "pending_denovodb", "port": 9881, "es_host": "172.30.1.155:9200"}, "description": "DenovoDB API", "_id": "denovodb", "status": "running", "url": "http://ip-172-30-1-114:9881"}, {"config": {"doc_type": "variant", "index": "pending_ccle", "port": 9882, "es_host": "172.30.1.155:9200"}, "description": "CCLE API", "_id": "ccle", "status": "running", "url": "http://ip-172-30-1-114:9882"}, {"config": {"doc_type": "variant", "index": "pending_kaviar", "port": 9883, "es_host": "172.30.1.155:9200"}, "description": "Kaviar API", "_id": "kaviar", "status": "running", "url": "http://ip-172-30-1-114:9883"}, {"config": {"doc_type": "variant", "index": "pending_fire", "port": 9884, "es_host": "172.30.1.155:9200"}, "description": "FIRE API", "_id": "fire", "status": "running", "url": "http://ip-172-30-1-114:9884"}, {"config": {"doc_type": "variant", "index": "pending_biomuta", "port": 9885, "es_host": "172.30.1.155:9200"}, "description": "Biomuta API", "_id": "biomuta", "status": "running", "url": "http://ip-172-30-1-114:9885"}]}
							self.getMetadata(self.context.List);
						}
            this.loadAnimation();
						//for testing only
            // this.getMetadataTest();
						//for production
						// this.getList();

						this.registerServiceWorker();
						window.addEventListener('beforeinstallprompt', (e) => {
						  // Prevent Chrome 67 and earlier from automatically showing the prompt
						  e.preventDefault();
						  // Stash the event so it can be triggered later.
						  deferredPrompt = e;
						  // Update UI notify the user they can add to home screen
							deferredPrompt.prompt();
						});
          }
      });

      new Vivus('hero1', {duration: 150});

      let timer = setInterval(function(){
        new Vivus('hero1', {duration: 150});
      }, 30000);


      // Smooth Scrolling to Anchors
      // Select all links with hashes
      $('a[href*="#"]')
        // Remove links that don't actually link to anything
        .not('[href="#"]')
        .not('[href="#0"]')
        .click(function(event) {
          // On-page links
          if (
            location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
            &&
            location.hostname == this.hostname
          ) {
            // Figure out element to scroll to
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
            // Does a scroll target exist?
            if (target.length) {
              // Only prevent default if animation is actually gonna happen
              event.preventDefault();
              $('html, body').animate({
                scrollTop: target.offset().top
              }, 1000, function() {
                // Callback after animation
                // Must change focus!
                var $target = $(target);
                $target.focus();
                if ($target.is(":focus")) { // Checking if the target was focused
                  return false;
                } else {
                  $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
                  $target.focus(); // Set focus again
                };
              });
            }
          }
        });
			</script>


	</body>
</html>
